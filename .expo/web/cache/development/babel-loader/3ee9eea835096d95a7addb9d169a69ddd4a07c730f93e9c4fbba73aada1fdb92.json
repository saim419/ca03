{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { Camera, CameraType } from 'expo-camera';\nimport * as MediaLibrary from 'expo-media-library';\nimport { Entypo } from '@expo/vector-icons';\nimport Button from \"./Button\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function CameraApp() {\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    hasCameraPermission = _useState2[0],\n    setHasCameraPermission = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    image = _useState4[0],\n    setImage = _useState4[1];\n  var _useState5 = useState(Camera.Constants.Type.back),\n    _useState6 = _slicedToArray(_useState5, 2),\n    type = _useState6[0],\n    setType = _useState6[1];\n  var _useState7 = useState(Camera.Constants.FlashMode.off),\n    _useState8 = _slicedToArray(_useState7, 2),\n    flash = _useState8[0],\n    setFlash = _useState8[1];\n  var cameraRef = useRef(null);\n  useEffect(function () {\n    _asyncToGenerator(function* () {\n      yield MediaLibrary.requestPermissionsAsync();\n      var cameraStatus = yield Camera.requestCameraPermissionsAsync();\n      setHasCameraPermission(cameraStatus.status === 'granted');\n    })();\n  }, []);\n  var takePicture = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      if (cameraRef.current) {\n        try {\n          var data = yield cameraRef.current.takePictureAsync();\n          console.log(data);\n          setImage(data.uri);\n        } catch (e) {\n          console.log(e);\n        }\n      }\n    });\n    return function takePicture() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var saveMedia = function () {\n    var _ref3 = _asyncToGenerator(function* (media) {\n      if (media) {\n        try {\n          yield MediaLibrary.createAssetAsync(media);\n          alert('Media saved!');\n          setImage(null);\n        } catch (e) {\n          console.log(e);\n        }\n      }\n    });\n    return function saveMedia(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  if (hasCameraPermission === false) {\n    return _jsx(Text, {\n      children: \"No access to Camera\"\n    });\n  }\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.cameraContainer,\n      children: [!image && _jsx(Camera, {\n        style: styles.camera,\n        type: type,\n        flashMode: flash,\n        ref: cameraRef\n      }), image && _jsx(Image, {\n        source: {\n          uri: image\n        },\n        style: styles.camera\n      })]\n    }), _jsxs(View, {\n      style: styles.buttonContainer,\n      children: [_jsx(TouchableOpacity, {\n        style: styles.button,\n        onPress: function onPress() {\n          setType(type === CameraType.back ? CameraType.front : CameraType.back);\n        },\n        children: _jsx(Entypo, {\n          name: \"retweet\",\n          size: 28,\n          color: \"#f1f1f1\"\n        })\n      }), _jsx(TouchableOpacity, {\n        style: styles.button,\n        onPress: function onPress() {\n          setFlash(flash === Camera.Constants.FlashMode.off ? Camera.Constants.FlashMode.on : Camera.Constants.FlashMode.off);\n        },\n        children: _jsx(Entypo, {\n          name: \"flash\",\n          size: 28,\n          color: \"#f1f1f1\"\n        })\n      })]\n    }), image ? _jsxs(View, {\n      style: styles.bottomButtonsContainer,\n      children: [_jsx(Button, {\n        title: \"Retake\",\n        onPress: function onPress() {\n          return setImage(null);\n        }\n      }), _jsx(Button, {\n        title: \"Save\",\n        onPress: function onPress() {\n          return saveMedia(image);\n        }\n      })]\n    }) : _jsx(TouchableOpacity, {\n      style: styles.captureButton,\n      onPress: takePicture,\n      children: _jsx(View, {\n        style: styles.captureInnerButton\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#000',\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingBottom: 15\n  },\n  cameraContainer: {\n    flex: 1,\n    borderRadius: 20,\n    width: '100%',\n    overflow: 'hidden'\n  },\n  camera: {\n    flex: 1,\n    borderRadius: 20,\n    width: '100%'\n  },\n  buttonContainer: {\n    position: 'absolute',\n    top: 30,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    paddingHorizontal: 20,\n    width: '100%'\n  },\n  bottomButtonsContainer: {\n    position: 'absolute',\n    bottom: 40,\n    left: 15,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    width: '90%'\n  },\n  captureButton: {\n    position: 'absolute',\n    bottom: 80,\n    width: 100,\n    height: 100,\n    borderRadius: 40,\n    borderColor: '#fff',\n    borderWidth: 3,\n    justifyContent: 'center',\n    alignItems: 'center',\n    alignSelf: 'center'\n  },\n  captureInnerButton: {\n    width: 70,\n    height: 70,\n    borderRadius: 35,\n    backgroundColor: 'transparent',\n    borderWidth: 3,\n    borderColor: '#fff'\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","useRef","StyleSheet","Text","View","Image","TouchableOpacity","Camera","CameraType","MediaLibrary","Entypo","Button","jsx","_jsx","jsxs","_jsxs","CameraApp","_useState","_useState2","_slicedToArray","hasCameraPermission","setHasCameraPermission","_useState3","_useState4","image","setImage","_useState5","Constants","Type","back","_useState6","type","setType","_useState7","FlashMode","off","_useState8","flash","setFlash","cameraRef","_asyncToGenerator","requestPermissionsAsync","cameraStatus","requestCameraPermissionsAsync","status","takePicture","_ref2","current","data","takePictureAsync","console","log","uri","e","apply","arguments","saveMedia","_ref3","media","createAssetAsync","alert","_x","children","style","styles","container","cameraContainer","camera","flashMode","ref","source","buttonContainer","button","onPress","front","name","size","color","on","bottomButtonsContainer","title","captureButton","captureInnerButton","create","flex","backgroundColor","alignItems","justifyContent","paddingBottom","borderRadius","width","overflow","position","top","flexDirection","paddingHorizontal","bottom","left","height","borderColor","borderWidth","alignSelf"],"sources":["/Users/saimsiddiqui/Desktop/picture/cam1/src/components/CameraApp.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { StyleSheet, Text, View, Image, TouchableOpacity } from 'react-native';\nimport { Camera, CameraType } from 'expo-camera';\nimport * as MediaLibrary from 'expo-media-library';\nimport { Entypo } from '@expo/vector-icons';\nimport Button from './Button';\n// Import the Button component correctly\n\nexport default function CameraApp() {\n    const [hasCameraPermission, setHasCameraPermission] = useState(null);\n    const [image, setImage] = useState(null);\n    const [type, setType] = useState(Camera.Constants.Type.back);\n    const [flash, setFlash] = useState(Camera.Constants.FlashMode.off);\n    const cameraRef = useRef(null);\n\n    useEffect(() => {\n        (async () => {\n            await MediaLibrary.requestPermissionsAsync();\n            const cameraStatus = await Camera.requestCameraPermissionsAsync();\n            setHasCameraPermission(cameraStatus.status === 'granted');\n        })();\n    }, []);\n\n    const takePicture = async () => {\n        if (cameraRef.current) {\n            try {\n                const data = await cameraRef.current.takePictureAsync();\n                console.log(data);\n                setImage(data.uri);\n            } catch (e) {\n                console.log(e);\n            }\n        }\n    };\n\n    const saveMedia = async (media) => {\n        if (media) {\n            try {\n                await MediaLibrary.createAssetAsync(media);\n                alert('Media saved!');\n                setImage(null);\n            } catch (e) {\n                console.log(e);\n            }\n        }\n    };\n\n    if (hasCameraPermission === false) {\n        return <Text>No access to Camera</Text>;\n    }\n\n    return (\n        <View style={styles.container}>\n            <View style={styles.cameraContainer}>\n                {!image && (\n                    <Camera style={styles.camera} type={type} flashMode={flash} ref={cameraRef} />\n                )}\n                {image && <Image source={{ uri: image }} style={styles.camera} />}\n            </View>\n\n            <View style={styles.buttonContainer}>\n                <TouchableOpacity\n                    style={styles.button}\n                    onPress={() => {\n                        setType(type === CameraType.back ? CameraType.front : CameraType.back);\n                    }}\n                >\n                    <Entypo name=\"retweet\" size={28} color=\"#f1f1f1\" />\n                </TouchableOpacity>\n                <TouchableOpacity\n                    style={styles.button}\n                    onPress={() => {\n                        setFlash(\n                            flash === Camera.Constants.FlashMode.off\n                                ? Camera.Constants.FlashMode.on\n                                : Camera.Constants.FlashMode.off\n                        );\n                    }}\n                >\n                    <Entypo name=\"flash\" size={28} color=\"#f1f1f1\" />\n                </TouchableOpacity>\n            </View>\n\n            {image ? (\n                <View style={styles.bottomButtonsContainer}>\n                    <Button title=\"Retake\" onPress={() => setImage(null)} />\n                    <Button title=\"Save\" onPress={() => saveMedia(image)} />\n                </View>\n            ) : (\n                <TouchableOpacity style={styles.captureButton} onPress={takePicture}>\n                    <View style={styles.captureInnerButton} />\n                </TouchableOpacity>\n            )}\n        </View>\n    );\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        backgroundColor: '#000',\n        alignItems: 'center',\n        justifyContent: 'center',\n        paddingBottom: 15,\n    },\n    cameraContainer: {\n        flex: 1,\n        borderRadius: 20,\n        width: '100%',\n        overflow: 'hidden',\n    },\n    camera: {\n        flex: 1,\n        borderRadius: 20,\n        width: '100%',\n    },\n    buttonContainer: {\n        position: 'absolute',\n        top: 30,\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        paddingHorizontal: 20,\n        width: '100%',\n    },\n    bottomButtonsContainer: {\n        position: 'absolute',\n        bottom: 40,\n        left: 15,\n        flexDirection: 'row',\n        justifyContent: 'space-between',\n        width: '90%',\n    },\n    captureButton: {\n        position: 'absolute',\n        bottom: 80,\n        width: 100,\n        height: 100,\n        borderRadius: 40,\n        borderColor: '#fff',\n        borderWidth: 3,\n        justifyContent: 'center',\n        alignItems: 'center',\n        alignSelf: 'center', // Align button in the bottom center\n    },\n    captureInnerButton: {\n        width: 70, // Increase the size of the inner button\n        height: 70, // Increase the size of the inner button\n        borderRadius: 35, // Make it slightly bigger\n        backgroundColor: 'transparent',\n        borderWidth: 3,\n        borderColor: '#fff',\n    },\n});\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}